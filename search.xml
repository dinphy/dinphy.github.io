<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>Material 主题配置</title>
      <link href="/posts/a40f8cd0/"/>
      <url>/posts/a40f8cd0/</url>
      <content type="html"><![CDATA[<h3 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h3><p>参照 <a href="https://material.viosey.com/docs/#/" target="_blank" rel="noopener">Material 官方文档</a>，设置中文语言、头像、作者、网站描述和 URL 等。</p><h3 id="config-yml文件配置参考"><a href="#config-yml文件配置参考" class="headerlink" title="_config.yml文件配置参考"></a>_config.yml文件配置参考</h3><blockquote><p>此文件路径 <code>themes/_config.yml</code></p></blockquote><blockquote><blockquote><p>具体参考如下：</p></blockquote></blockquote><blockquote><pre><code># ---------------------------------------------------------------# Site Information Settings | 站点基础信息设置# ---------------------------------------------------------------# Head info | 头部信息head:favicon: &quot;/img/favicon.ico&quot;high_res_favicon: &quot;/img/favicon.ico&quot;apple_touch_icon: &quot;/img/favicon.ico&quot;keywords: site_verification:google:baidu:# Enable generate structured-data as JSON+LD for SEO or not.#Set as &apos;false&apos; if it cause some wrong when `hexo g`.structured_data: true# Jump Links Settings | 跳转链接设置url:rss:daily_pic: &quot;&quot;logo: &quot;https://dinphy.github.io&quot;# ---------------------------------------------------------------# Style Settings | 样式设置# ---------------------------------------------------------------# Schemes | 多种分支主题外观scheme: Paradox#scheme: Isolation# UI &amp; UX: slogan, color, effectuiux:slogan: &quot;生活不易,快乐就好&quot;theme_color: &quot;#0097A7&quot;theme_sub_color: &quot;#00838F&quot;hyperlink_color: &quot;#00838F&quot;button_color: &quot;#757575&quot;android_chrome_color: &quot;#0097A7&quot;nprogress_color: &quot;#29d&quot;nprogress_buffer: &quot;300&quot;# JS Effect Switches | 控制 Material 主题中自带的多种 js 特性js_effect:fade: falsesmoothscroll: false# Reading experience | 设置阅读体验，文章截断reading:entry_excerpt: 80# Thumbnail Settings | 设置文章缩略图相关，可随机生成thumbnail:purecolor:random_amount: 19# Background Settings | 设置站点背景# bing available parameter:#new | color= | type=#color available value: black, blue, brown, green, multi, orange, pink, purple, red, white, yellow#type available value: A (animal), C (culture), N (nature), S (space), T (travel)background:purecolor: &quot;#F5F5F5&quot;#bgimg: &quot;/img/bg.png&quot;bing:enable: falseparameter:# Images Settings | 设置站点图片img:logo: &quot;/img/logo.jpeg&quot;avatar: &quot;/img/avatar.jpg&quot;daily_pic: &quot;/img/daily_pic.jpg&quot;sidebar_header: &quot;/img/sidebar_header.png&quot;random_thumbnail: &quot;/img/random/material-&quot;footer_image:#upyun_logo:#link: &quot;https://www.upyun.com/&quot;#src: &quot;/img/upyun_logo.svg&quot;# Custom Fonts | 设置站点的字体#family: the font-family which will be used in the theme#use: uri of fonts host.#Available value: google | baomitu | ustc | custom | catnet#- When you set as &apos;custom&apos;, you should fill in the value of &apos;custom_font_host&apos;, which should be a mirror of google fonts.#- If you have setup your custom font-family, don&apos;t forget to add style tag with @font-face or link.tag with font css#  to /source/data/head.yml as custom code, to load custom font files.fonts:family: Roboto, &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;微软雅黑&quot;, Arial, sans-serif;use: googlecustom_font_host:# Card Elevation Level | 设置主题卡片阴影card_elevation: 2# Copyright | 设置站点成立的时间# Specify the date when the site was setup.#For example, if you set it as 2015, then footer will show &apos;© 2015 - 2017&apos;copyright_since: 2017# Footer Text | 在页面的 Footer 指定你想显示的文字# You can specify the text you want to show in footer, HTML tag is supported.#   For example, you can setup ICP license number as:#   &apos;&lt;a href=&quot;http://www.miitbeian.gov.cn&quot; rel=&quot;nofollow&quot;&gt;某ICP备xxxxxxxx号-x&lt;/a&gt;&apos;footer_text:# Qrcode for redirect at other device | 在文章页中显示二维码#use: choose which method to generate the qrcode for each posts.#Available value: plugin | online#- When use &quot;plugin&quot;, you need to install the hexo-helper-qrcode.#- When use &quot;online&quot;, the qrcode will be generated by &apos;pan.baidu.com&apos; in China.qrcode:enable: trueuse: plugin# Code highlight | 实现代码高亮# You can only enable one of them to avoid issues.# Also you need to disable highlight option in hexo&apos;s _config.yml.##Prettify#theme: # Available value in /source/css/prettify/[theme].min.cssprettify:enable: falsetheme: &quot;github-v2&quot;#Hanabi (https://github.com/egoist/hanabi)#line_number: [true/false] # Show line number for code block#includeDefaultColors: [true/false] # Use default hanabi colors#customColors: This value accept a string or am array to setting for hanabi colors.#- If `includeDefaultColors` is true, this will append colors to the color pool#- If `includeDefaultColors` is false, this will instead default color poolhanabi:enable: trueline_number: trueincludeDefaultColors: truecustomColors: # Post License | 在每篇文章的结尾添加你的版权说明# You can specify the text you want to show in the end of your posts and pages, HTML tag is supported.#   For example, you can setup a CC license as:#   &apos;This blog is under a &lt;a href=&quot;/creativecommons.html&quot; target=&quot;_blank&quot;&gt;CC BY-NC-SA 3.0 Unported License&lt;/a&gt;&apos;# You can also use Front-Matter `license` to override this setting.license: &quot;&lt;b&gt;本文采用：署名-非商业性使用-禁止演绎 4.0 国际&lt;/b协议进行许可，阅读 &lt;a rel=&apos;nofollow noopener&apos; href=&apos;https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh&apos; target=&apos;_blank&apos;&gt;相关说明&lt;/a&gt;&quot;# ---------------------------------------------------------------# Menu Settings | 菜单配置# ---------------------------------------------------------------# TOC Button | 是否显示 TOC(文章目录) 菜单中的行号toc:#   use: choose whether the line_number of toc will show or not.#   Available value of &quot;linenumber&quot;: true | falselinenumber: true# SNS Menu | SNS菜单sns:email: 2027821710&lt;span style=&quot;display:none&quot;&gt;fuck&lt;/span&gt;@qq.comfacebook:twitter:googleplus:weibo:instagram:tumblr:github: https://github.com/dinphylinkedin:zhihu:bilibili:telegram: v2ex:# SNS Share Switch | 定义分享菜单中的项目sns_share:twitter: falsefacebook: falsegoogleplus: false   weibo: truelinkedin: false   qq: truetelegram: false# Sidebar Customize | 自定义侧边栏下拉菜单sidebar:dropdown:Email Me:link: &quot;&quot;icon: emailhomepage:use: trueicon: homedivider: falsearchives:use: falseicon: inboxdivider: falsecategories:use: trueicon: chrome_reader_modedivider: truepages:时间轴:link: &quot;/timeline/&quot;icon: inboxdivider: false标签云:link: &quot;/tags/&quot;icon: labeldivider: false生活栈:link: &quot;/life/&quot;icon: bookdivider: false关于我:link: &quot;/about/&quot;icon: persondivider: false订阅:link: &quot;/atom.xml&quot;icon: rss_feeddivider: truearticle_num:use: truedivider: falsefooter:divider: falsetheme: falsesupport: falsefeedback: falsematerial: false# ---------------------------------------------------------------# Integrated Services | 第三方服务的配置# ---------------------------------------------------------------# Comment Systems | 评论系统# Available value of &quot;use&quot;:# disqus | disqus_click | changyan | livere | gitment | gitalk | valine# If you want to use gitment or gitalk,you should get the client_id and client_secret form https://github.com/settings/applications/new# If you want to use valine,you should get the app_id and app_key form https://leancloud.cn ,more setting please see https://valine.js.orgcomment:use: valineshortname: changyan_appid:changyan_conf:changyan_thread_key_type: pathlivere_data_uid:gitment_repo:   # git repo of the hexogitment_owner:  # git repo&apos;s ownergitment_client_id:  # github app client id gitment_client_secret :  # github app client secret valine_leancloud_appId:  EdyGwWrx3Uxu5hRnY4d4pswD-gzGzoHsz # leancloud application app idvaline_leancloud_appKey:  4pmmj56YRbawceTeHCkLMT7n # leancloud application app keyvaline_notify: false # valine mail notify (true/false) https://github.com/xCss/Valine/wikivaline_verify: false # valine verify code (true/false)valine_pageSize: 10 # comment list page sizevaline_avatar: identicon # gravatar style https://valine.js.org/#/avatarvaline_lang: zh-cn # i18nvaline_placeholder: 您的忠言将助我成长，说点啥吧 # valine comment input placeholder(like: Please leave your footprints )valine_guest_info: nick,mail,link #valine comment header infogitalk_repo: # git repo of the hexogitalk_owner: # git repo&apos;s ownergitalk_client_id: # github app client id gitalk_client_secret: # github app client secret# Search Systems | 搜索系统# Available value:# swiftype | google | localsearch:use: localswiftype_key:# Analytics Systems | 数据统计与分析# Available value:# baidu | google | cnzzanalytics:google_site_id: baidu_site_id:cnzz_site_id:# Leancloud Views | PV&amp;UV 统计leancloud:enable: trueapp_id: rRa1XVVgoUC5AartIX0Qkuvc-gzGzoHsz #你的 app_idapp_key: 2dxHQNJ3091jhePfiLCYh4rM #你的 app_keyav_core_mini: &quot;https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js&quot;# Busuanzi | 不蒜子统计busuanzi:enable: trueall_site_uv: post_pv: busuanzi_pure_mini_js: &quot;https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;# Files Vendors# Set a CDN for the files src you want to customize. The url should with protocol.# Default(empty) will load the files from the origin server.vendors:# MaterialCDN#   You can load theme unique files from your private cdn or oss.#   The new src will have the base domain you configured below.#   For example#   materialcdn: https://cdn.jsdelivr.net/npm/hexo-material@1.4.0/sourcematerialcdn: https://cdn.jsdelivr.net/gh/wincerchan/hexo-theme-material@1.5.7/source# Third party library#   You can load these files from public cdn.#   For example#   jquery: https://cdn.bootcss.com/jquery/2.2.1/jquery.js# jQuery 2.2.0jquery:# nprogress 0.2.0nprogress:# FontAwesome 4.5.0fontawesome:# MathJax 2.7.0-2.7.1mathjax:# Prettify r298 (only prettify.js)prettify:# Material Icons 3.0.1material_icons:</code></pre></blockquote><h3 id="文章链接唯一化"><a href="#文章链接唯一化" class="headerlink" title="文章链接唯一化"></a>文章链接唯一化</h3><p>也许你会数次更改文章题目或者变更文章发布时间，在默认设置下，文章链接都会改变，不利于搜索引擎收录，也不利于分享。唯一永久链接才是更好的选择。安装此插件后，不要在 <code>hexo s</code> 模式下更改文章文件名，否则文章将成空白。</p><p>安装插件：<code>npm install hexo-abbrlink --save</code></p><h3 id="其他依赖文件"><a href="#其他依赖文件" class="headerlink" title="其他依赖文件"></a>其他依赖文件</h3><blockquote><h4 id="1-基本依赖"><a href="#1-基本依赖" class="headerlink" title="1.基本依赖"></a>1.基本依赖</h4><blockquote><p>npm install -g hexo hexo-cli gulp gulp-minify-css gulp-htmlmin gulp-uglify gulp-clean-css babel-cli gulp-babel babel-preset-env del gulp-rename gulp-sourcemaps run-sequence</p></blockquote><h4 id="2-插件依赖"><a href="#2-插件依赖" class="headerlink" title="2.插件依赖"></a>2.插件依赖</h4><blockquote><p>npm install –save hexo hexo-generator-search hexo-deployer-git hexo-wordcount hexo-helper-qrcode hexo-generator-feed hexo-helper-post-top hexo-abbrlink hexo-server</p></blockquote></blockquote><h3 id="独立页面新建"><a href="#独立页面新建" class="headerlink" title="独立页面新建"></a>独立页面新建</h3><p>具体参考<a href="https://material.viosey.com/docs/#/pages" target="_blank" rel="noopener">[Material 官方文档 | 独立页面]</a></p><h3 id="第三方服务支持"><a href="#第三方服务支持" class="headerlink" title="第三方服务支持"></a>第三方服务支持</h3><p>具体参考<a href="https://material.viosey.com/docs/#/config_services" target="_blank" rel="noopener">[Material 官方文档 | 第三方服务]</a></p><h3 id="Hexo根目录-config-yml配置参考"><a href="#Hexo根目录-config-yml配置参考" class="headerlink" title="Hexo根目录_config.yml配置参考"></a>Hexo根目录_config.yml配置参考</h3><blockquote><blockquote><p>具体参考如下：</p></blockquote><pre><code># Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Sitetitle: Dinphy - 简乐 subtitle: 生活不易,快乐就好description: 生活不易,快乐就好keywords: author: Dinphy - 简乐language: zh-CNtimezone: Asia/Shanghai# URL## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;url: https://dinphy.github.ioroot: /#permalink: :year/:month/:day/:title/permalink: posts/:abbrlink/#permalink_defaults:abbrlink:  alg: crc32  rep: hex# Directory | 目录source_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:  - 404.html  - 403.html# Writing | 写作new_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight:  enable: true  line_number: true  auto_detect: false  tab_replace: false# Category &amp; Tag | 分类 &amp; 标签default_category: uncategorizedcategory_map:tag_map:# Date / Time format | 日期 / 时间格式## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination | 分页## Set per_page to 0 to disable paginationper_page: 5pagination_dir: page# Extensions | 主题扩展## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: materialstylus:  compress: truesearch:  path: search.xml  field: post# add post viewsleancloud_visitors:  enable: true  app_id: &apos;EdyGwWrx3Uxu5hRnY4d4pswD-gzGzoHsz&apos;  app_key: &apos;4pmmj56YRbawceTeHCkLMT7n&apos;index_generator:  per_page: 6archive_generator:  per_page: 20  yearly: true  monthly: truetag_generator:  per_page: 10category_generator:  per_page: 10# Deployment | 部署## Docs: https://hexo.io/docs/deployment.htmldeploy:  type: git  repository: git@github.com:dinphy/dinphy.github.io.git  branch: master  message: &apos;站点更新:{{now("YYYY-MM-DD HH/mm/ss")}}&apos;## encrypt plugins | 加密插件encrypt:  password: dinphy  template: &apos;&lt;div class=&quot;encrypt&quot;&gt;&lt;script&gt;var onError = function(error) { $(&quot;#enc_error&quot;)[0].innerHTML = &quot;密码错误！&quot;; }; function decrypt() { var passwd = $(&quot;#enc_passwd input&quot;)[0].value; console.log(passwd); doDecrypt(passwd, onError); }function EnterPress(e){var e = window.event || e;if (e.keyCode == 13){decrypt();}}&lt;/script&gt;&lt;input type=&quot;text&quot; onkeydown=&quot;EnterPress&quot; onkeypress=&quot;EnterPress(event)&quot; style=&quot;/* border-radius: 10px; */border-style: groove;/* border: 0px; */border-bottom: 2px solid #0097a7; /* 下划线效果 */border-top:0px;border-left:0px;border-right:0px;height: 30px;width: 61.8%;cursor: auto;font-size: 102%;color: currentColor;outline: none;text-overflow: initial;background: #61616;padding-left: 5px&quot; placeholder=&quot;输入密码后请按回车&quot;&gt;&lt;div id=&quot;enc_error&quot; style=&quot; display: inline-block; color: #d84527; font: large; &quot;&gt;&lt;/div&gt;&lt;/div&gt;&apos;image_stream:  jquery: false  jquery_lazyload: false  img_placeholder: falselazyload:  enable: true  onlypost: true  loadingImg: data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=</code></pre></blockquote><h3 id="生成结构图"><a href="#生成结构图" class="headerlink" title="生成结构图"></a>生成结构图</h3><blockquote><p>hexo根目录<br><img src="https://raw.githubusercontent.com/dinphy/website_pic/master/photos/1.PNG" alt=""></p><blockquote><p>public目录<br><img src="https://raw.githubusercontent.com/dinphy/website_pic/master/photos/2.PNG" alt=""></p><blockquote><p>source目录<br><img src="https://raw.githubusercontent.com/dinphy/website_pic/master/photos/3.PNG" alt=""></p></blockquote></blockquote></blockquote><p>参考开源项目：<a href="https://github.com/WincerChan/MyBlog" target="_blank" rel="noopener">WincerChan | 博客备份</a></p>]]></content>
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Material </tag>
            
            <tag> blog </tag>
            
            <tag> web </tag>
            
            <tag> 学习笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>夏日畅想</title>
      <link href="/posts/a33ad06e/"/>
      <url>/posts/a33ad06e/</url>
      <content type="html"><![CDATA[<blockquote><p>我喜欢夏天，尤其是在我工作的地方。我在学校上班，感觉累了就到池塘边歇息，看池中的金鱼嬉戏打闹；觉得热了就到大树下乘凉，安静的听着同学们的读书声；怀想着过去，畅想着未来，这是多么的惬意和随心所欲！</p></blockquote><blockquote><p>夏天的校园氛围，比其它季节浓。晴天，树荫下结伴同行的师生是一道风景；雨天，大家撑着伞，从高处往下看时，仿佛一个个移动的城堡；阴天，不冷不热，微风拂面的感觉，总是让人清醒。</p></blockquote><blockquote><p>早晨，是夏日里空气最清新的时候，声声入耳的读书声，历历在目的奋斗士，在这里我们看到了星星之火。中午，也许你会犹豫要不要在到外面走走，体验一下烈日当空照而汗流浃背的灼热感。傍晚，也许你不会犹豫了，翩翩起舞的蝴蝶在花草上你追我赶，时而分时而合。这样的一天中，除了上班时间，只要你敢挑战，美好的事情总在发生！</p></blockquote><blockquote><p>我喜欢夏天，这是个让人成长的季节。对于学生而言，他们即将迎来新的历程。有的人即将小学毕业，有的人将面对中考，有的人将挑战高考，有的人将踏入社会，有的人将走上工作岗位……这也是个痛并快乐着的季节，因为有人成功的同时，有人正面对着失败。在这样患得患失的夏天，你还和我一样一如既往的喜欢吗？</p></blockquote><blockquote><p>我喜欢夏天，喜欢绿树成荫的校园，喜欢校园里既有点顽劣又让人觉得可爱的学生。</p></blockquote><blockquote><p>我喜欢夏天，喜欢书香满溢的校园，喜欢校园里那种无忧无虑的只需要学习的生活。</p></blockquote><blockquote><p>我喜欢夏天，喜欢这个季节带给我的不一样。</p></blockquote><p><img src="https://raw.githubusercontent.com/dinphy/website_pic/master/photos/20180516135537.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 业余小作 </category>
          
          <category> 生活感悟 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活 </tag>
            
            <tag> 业余小作 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>QQ 音乐外链解析</title>
      <link href="/posts/72171293/"/>
      <url>/posts/72171293/</url>
      <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>大概在五天前，忽然发现一直在用的网易云解析不能用了，去作者的项目查看才知道原来是网易云更换了新的接口，旧接口的请求现在统一返回 403。于是乎，便萌生了自己写一个接口的想法。<a id="more"></a></p><p>其实网易云的外链获取目前还是有几种可用方案，比如：</p><ol><li><a href="https://m1.jixun.moe/" target="_blank" rel="noopener">云音乐直链生成器</a></li><li>手动替换：<code>https://music.163.com/song/media/outer/url?id=[].mp3</code>，将中括号改为歌曲 id，即为外链</li></ol><p>这两种方法其实大同小异，都会 302 至歌曲的缓存地址，但也存在一个身为强迫症的我无法忍受的缺点——缓存地址的协议是 <code>http</code>（从云音乐官网现在还有大量的 Mixed Content 就可以看出网易对这方面并不上心），而且自己将协议修改成 <code>https</code> 后访问部分歌曲又会有机率出现 403，这可真是逼死我了：于是决定暂时放弃掉网易云，换其他家的顶着。</p><h2 id="QQ-音乐"><a href="#QQ-音乐" class="headerlink" title="QQ 音乐"></a>QQ 音乐</h2><p>考虑了一圈，还是决定选 QQ 音乐。在网上也找到了 QQ 音乐所提供的接口：</p><ul><li>请求地址：<code>https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg</code></li><li>参数，有三个：<ol><li>songmid：歌曲页 Url 的 <code>https://y.qq.com/n/yqq/song/{}.html</code> 括号部分</li><li>filename：歌曲名 <code>&#39;C00&#39; + songmid + &#39;.m4a&#39;</code></li><li>guid：随机生成的数字串 <code>int(random() * 2147483647) * int(time() * 1000) % 10000000000</code></li></ol></li></ul><p>综上，歌曲的请求地址为：<code>https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg?format=json&amp;cid=205361747&amp;uin=0&amp;songmid={smid}&amp;filename={filename}&amp;guid={guid}</code></p><p>向这个地址请求后，会得到一个 JSON 格式的数据文件，包含了我们需要的信息：vkey</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">'https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg?format=json&amp;cid=205361747&amp;uin=0&amp;songmid=&#123;smid&#125;&amp;filename=&#123;filename&#125;&amp;guid=&#123;guid&#125;'</span></span><br><span class="line">&#123;<span class="string">"code"</span>:0,<span class="string">"cid"</span>:205361747,<span class="string">"userip"</span>:<span class="string">"××.××.××.××"</span>,<span class="string">"data"</span>:&#123;<span class="string">"expiration"</span>:80400,<span class="string">"items"</span>:[&#123;<span class="string">"subcode"</span>:104001,<span class="string">"songmid"</span>:<span class="string">"000uhMwj387EBp"</span>,<span class="string">"filename"</span>:<span class="string">"C00000uhMwj387EBp.m4a"</span>,<span class="string">"vkey"</span>:<span class="string">"B6BB8F604606DFDC82FD81CE33BC9C0277365D4B8B1BC8BCC909E408EAC9822315B2B9D021F42B495FA14AADCB598B21BCDB867931B7A953"</span>&#125;]&#125;&#125;</span><br></pre></td></tr></table></figure><p>得到了最重要的 <code>vkey</code> 字段后，就可以解析出歌曲的「真实链接」了：</p><p><code>https://dl.stream.qqmusic.qq.com/{filename}?vkey={vkey}&amp;guid={guid}&amp;uin=0&amp;fromtag=66</code></p><p>你可能注意到返回的信息中还包含了 <code>expiration</code> 字段。是的，<code>vkey</code> 只有在该时间段内才有效，当然这个问题很好解决，可以把该程序部署至服务器，而从服务器发起请求获取链接后 302 至歌曲链接。</p><p>而当我满心欢喜的把这个脚本向服务端部署的时候，却失败了：原因是接口的请求地址只支持国内的（想来是因为 QQ 音乐只拿到了在大陆地区的版权），而我的服务器在美国，这个问题就有些难解决了（我没有国内的服务器）。</p><p>于是我想另辟蹊径。</p><h2 id="纯-JS-解析"><a href="#纯-JS-解析" class="headerlink" title="纯 JS 解析"></a>纯 JS 解析</h2><p>既然服务端无法解析，那就用 JS 在用户端解析。</p><p>但又带来了另一个问题——跨域。</p><p>目前跨域请求比较好的解决方案有两种：CORS 和 JSONP，其中 CORS 需要服务器端设置 <code>Access-Control-Allow-Origin</code>，所以也就只有使用 JSONP 了。</p><blockquote><p>注意：跨域请求失败原因浏览器端阻止显示，并非服务器端无法返回数据</p></blockquote><p>使用 JSONP 时要求服务端返回的是满足 <a href="https://zh.wikipedia.org/wiki/JSONP#%E5%8E%9F%E7%90%86" target="_blank" rel="noopener">JSONP 模式</a>的文件，不能是纯 JSON 文件，举个例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url1 = <span class="string">"https://lab.itswincer.com/jsonp/without-callback.js"</span>;</span><br><span class="line"><span class="keyword">var</span> url2 = <span class="string">"https://lab.itswincer.com/jsonp/with-callback.js"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">`Hi, I am <span class="subst">$&#123;data.name&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">script.setAttribute(<span class="string">'src'</span>, url1);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">script.setAttribute(<span class="string">'src'</span>, url2);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(script);</span><br></pre></td></tr></table></figure><p>其中 <code>without-callback.js</code> 返回的是纯 JS 文件，<code>with-callback.js</code> 返回的是满足模式的 JS 文件。可以运行上面代码看看结果。</p><p>本想直接用现成的 <code>ajax</code>，考虑到并非所有的网站都引入了 jQuery，而为 <code>ajax</code> 就引入一个那么庞大的库又有些没必要。</p><p>于是就自己封装了一个 <code>getJSONP()</code> 接口来搭配 <code>getMusic()</code> 使用。</p><p>项目已开源，具体的代码见<a href="https://github.com/WincerChan/QQMusic-Parse" target="_blank" rel="noopener">这里</a>，有很详细的注释。</p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>为了使接口更干净，没有使用 callback 函数，而是使用了 ES7 的新特性 async、await。尝试过使用 Babel 等工具转换成兼容更好的 ES5 代码，但是并没有成功，故而浏览器的兼容可能存在问题。</p><p>引入<a href="https://cdn.jsdelivr.net/gh/wincerchan/QQMusic-Parse@0.3/parse.min.js" target="_blank" rel="noopener">这个 JS 文件</a>：</p><p>接口：<code>await getMusic()</code>，如下图：</p><p><img src="https://i.loli.net/2018/03/08/5aa0fa4a9dd89.png" alt="Screenshot_20180308_165406.png"></p><blockquote><p>注意：在调用 getMusic() 的时候一定要加上 await 关键字，否则返回的就是一个 Promise 对象了</p></blockquote><h3 id="配合-Aplayer"><a href="#配合-Aplayer" class="headerlink" title="配合 Aplayer"></a>配合 Aplayer</h3><p>由于使用了 ES7 的新特性：async 和 await，故而 Aplayer 的配置文件也需要稍加改动：需要将原配置信息放至包含 <code>async</code> 关键字的函数内，随后调用这个函数，如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">syncHand</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> Aplayer(...);</span><br><span class="line">&#125;</span><br><span class="line">syncHand();</span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>越来越认同保罗 · 格雷厄姆那句「黑客就像画家，工作起来是有心理周期的有时候，你有了一个令人兴奋的新项目，你会愿意为它一天工作 16 个小时。等过了这一阵，你又会觉得百无聊赖，对所有事情都提不起兴趣。」话了，简直就是我的写照：这四天大约花费了 30 小时（当然有很大一部分缘由是之前没怎么学过 JavaScript，修改一下别人的代码还行，自己写就有点「捉襟见肘」了），而估计后几天又会陷入「空窗期」了。</p><p>而 JavaScript 又是一门有很多<del>坑爹</del>特性的语言，也让我把初学者的坑基本上都踩完了（还是写 Python 爽）。同时也感觉学习新东西的最好、最快的方法就是实战，换句话说，抱着解决问题的目的去学习所学到的知识远比你抱着单纯学习目的所学的知识要更快、更牢靠。</p>]]></content>
      
      <categories>
          
          <category> 实验室 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 音乐解析 </tag>
            
            <tag> Javascript </tag>
            
            <tag> 网易云 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>NexT 主题配置备份（二）</title>
      <link href="/posts/654861fb/"/>
      <url>/posts/654861fb/</url>
      <content type="html"><![CDATA[<p>这篇博客是承接上一篇 <a href="../a40f8cd0/">Next 主题配置备份</a>，按照个人喜好做了一些修改。</p><h3 id="加密文章"><a href="#加密文章" class="headerlink" title="加密文章"></a>加密文章</h3><p>网上针对 Hexo 博客加密文章的办法有两种：</p><h4 id="js-的阻塞机制"><a href="#js-的阻塞机制" class="headerlink" title="js 的阻塞机制"></a>js 的阻塞机制</h4><p>在 <code>themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig</code> 中的 \<meta> 标签后添加以下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (prompt(<span class="string">'请输入文章密码'</span>, <span class="string">''</span>) !== <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">                alert(<span class="string">'密码错误'</span>);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>这里的 <code>page</code> 变量就是文章的首部：需要在首部自行添加 <code>password</code> 字段，再设置一个密码值：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: NexT主题配置备份（二）</span><br><span class="line">type: categories</span><br><span class="line">categories: 笔记</span><br><span class="line">tags:</span><br><span class="line"><span class="code">- NexT</span></span><br><span class="line"><span class="code">- 博客</span></span><br><span class="line">copyright: true</span><br><span class="line">date: 2017/06/20 10:55:34</span><br><span class="line">password: ffffff</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>当然这个并不是真的加密，用查源代码的方式还是能看出博客的内容，不过这已经可以阻挡绝大部分访客了。</p><h4 id="crypto-js-的-AES-加密"><a href="#crypto-js-的-AES-加密" class="headerlink" title="crypto-js 的 AES 加密"></a>crypto-js 的 AES 加密</h4><p>采用的是 <a href="https://github.com/edolphin-ydf/hexo-encrypt" target="_blank" rel="noopener">hexo-encrypt</a> 插件，原理见作者<a href="http://edolphin.site/2016/05/31/encrypt-post/" target="_blank" rel="noopener">博客</a>，这个就属于真正的加密了，不知道密码查看源代码就是一堆无法辨认的字符。</p><h3 id="添加一言"><a href="#添加一言" class="headerlink" title="添加一言"></a>添加一言</h3><p>使用效果见我的博客侧边栏的底部。</p><p>需要修改 <code>themes-&gt;next-&gt;layout-&gt;_macro-&gt;sidebar.swig</code>，在倒数第三行的  后面加上：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">"cost"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cost-inner"</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"Javascript"</span> <span class="attr">src</span>=<span class="string">"https://rawgit.com/WincerChan/d314ff3a0ddc197134ad56efaeb34da0/raw/f4c3e73cdb08235fb01cd8849457c81d52236a1d/hitokoto.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里的 Js 文件是我自己写的，托管在「<a href="https://gist.github.com/d314ff3a0ddc197134ad56efaeb34da0.git" target="_blank" rel="noopener">Gist</a>」，当然你可以自由修改这其中的每一句。我以后也会添加的越来越多</p><p>然后修改 <code>themes-&gt;next-&gt;source-&gt;css-&gt;_schemes-&gt;Pisces</code>，添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cost</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cost-inner</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">240px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">box-shadow</span>: $box-shadow;</span><br><span class="line">  <span class="attribute">border-radius</span>: $border-radius;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="压缩博客文章"><a href="#压缩博客文章" class="headerlink" title="压缩博客文章"></a>压缩博客文章</h3><p>这里采用的是 <code>gulp</code> 插件，hexo 根目录新建 <code>gulpfile.js</code> 文件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>),</span><br><span class="line">    del = <span class="built_in">require</span>(<span class="string">'del'</span>);</span><br><span class="line">    rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>),</span><br><span class="line">    cssmin = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line">    htmlclean = <span class="built_in">require</span>(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line">    htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line">    imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line">    runSequence = <span class="built_in">require</span>(<span class="string">'run-sequence'</span>);</span><br><span class="line">    Hexo = <span class="built_in">require</span>(<span class="string">'hexo'</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//清除public</span></span><br><span class="line">gulp.task(<span class="string">'clean'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> del([<span class="string">'public/**/*'</span>]);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 利用Hexo API 来生成博客内容， 效果和在命令行运行： hexo g 一样</span></span><br><span class="line"><span class="comment">// generate html with 'hexo generate'</span></span><br><span class="line"><span class="keyword">var</span> hexo = <span class="keyword">new</span> Hexo(process.cwd(), &#123;&#125;);</span><br><span class="line">gulp.task(<span class="string">'generate'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    hexo.init().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hexo.call(<span class="string">'generate'</span>, &#123;</span><br><span class="line">            watch: <span class="literal">false</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hexo.exit();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cb()</span><br><span class="line">    &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">        hexo.exit(err);</span><br><span class="line">        <span class="keyword">return</span> cb(err);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//JS压缩</span></span><br><span class="line">gulp.task(<span class="string">'uglify'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'././public/js/*.js'</span>)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'././public/js/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//public-fancybox-js压缩</span></span><br><span class="line">gulp.task(<span class="string">'fancybox:js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'././public/fancybox/jquery.fancybox.js'</span>)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'././public/fancybox/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//public-fancybox-css压缩</span></span><br><span class="line">gulp.task(<span class="string">'fancybox:css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'././public/fancybox/jquery.fancybox.css'</span>)</span><br><span class="line">        .pipe(cssmin())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'././public/fancybox/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//CSS压缩</span></span><br><span class="line">gulp.task(<span class="string">'cssmin'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'././public/css/style.css'</span>)</span><br><span class="line">        .pipe(cssmin())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'././public/css/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩public目录下的所有html</span></span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            removeComments: <span class="literal">true</span>,</span><br><span class="line">            minifyJS: <span class="literal">true</span>,</span><br><span class="line">            minifyCSS: <span class="literal">true</span>,</span><br><span class="line">            minifyURLs: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 同上，压缩图片，这里采用了： 最大化压缩效果。</span></span><br><span class="line">gulp.task(<span class="string">'minify-img-aggressive'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/images/**/*.*'</span>)</span><br><span class="line">        .pipe(imagemin(</span><br><span class="line">        [imagemin.gifsicle(&#123;<span class="string">'optimizationLevel'</span>: <span class="number">3</span>&#125;), </span><br><span class="line">        imagemin.jpegtran(&#123;<span class="string">'progressive'</span>: <span class="literal">true</span>&#125;), </span><br><span class="line">        imagemin.optipng(&#123;<span class="string">'optimizationLevel'</span>: <span class="number">7</span>&#125;), </span><br><span class="line">        imagemin.svgo()],</span><br><span class="line">        &#123;<span class="string">'verbose'</span>: <span class="literal">true</span>&#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public/images'</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用run-sequence并发执行，同时处理html，css，js，img</span></span><br><span class="line">gulp.task(<span class="string">'compress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    runSequence([<span class="string">'minify-html'</span>, <span class="string">'cssmin'</span>, <span class="string">'uglify'</span>, <span class="string">'fancybox:js'</span>, <span class="string">'fancybox:css'</span>, <span class="string">'minify-img-aggressive'</span>], cb);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 执行顺序： 清除public目录 -&gt; 产生原始博客内容 -&gt; 执行压缩混淆</span></span><br><span class="line">gulp.task(<span class="string">'build'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">    runSequence(<span class="string">'clean'</span>, <span class="string">'generate'</span>, <span class="string">'compress'</span>, cb)</span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'build'</span>])</span><br></pre></td></tr></table></figure><p>需要用 npm 安装一些包：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">"del": "^3.0.0",</span><br><span class="line">"gulp": "^3.9.1",</span><br><span class="line">"gulp-clean-css": "^3.4.2",</span><br><span class="line">"gulp-htmlclean": "^2.7.14",</span><br><span class="line">"gulp-htmlmin": "^3.0.0",</span><br><span class="line">"gulp-minify-css": "^1.2.4",</span><br><span class="line">"gulp-rename": "^1.2.2",</span><br><span class="line">"gulp-sourcemaps": "^2.6.0",</span><br><span class="line">"gulp-uglify": "^3.0.0",</span><br><span class="line">"run-sequence": "^1.2.2",</span><br><span class="line">"gulp-imagemin": "^3.3.0",</span><br></pre></td></tr></table></figure><p>在执行 <code>gulp build</code> 时，会自动执行 <code>hexo clean</code>、<code>hexo g</code>，这时直接 <code>hexo d</code> 就行了。</p><p>这是网站优化后的结果：<img src="https://ws1.sinaimg.cn/large/ba22af52gy1fh33l1gzdxj20no08uaaj.jpg" alt=""></p><h3 id="博文置顶"><a href="#博文置顶" class="headerlink" title="博文置顶"></a>博文置顶</h3><p>修改 <code>node_modules/hexo-generator-index/lib/generator</code> 内的代码为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// 两篇文章top都有定义</span></span><br><span class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date; <span class="comment">// 若top值一样则按照文章日期降序排</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// 否则按照top值降序排</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date; <span class="comment">// 都没定义按照文章日期降序排</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>在文章的首部添加 <code>top</code> 值，数值越大越靠前：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: NexT主题配置备份（二）</span><br><span class="line">type: categories</span><br><span class="line">categories: 笔记</span><br><span class="line">tags:</span><br><span class="line">  - NexT</span><br><span class="line">  - 博客</span><br><span class="line">copyright: true</span><br><span class="line">top: 888</span><br><span class="line">date: '2017/06/30 10:55:34'</span><br><span class="line">abbrlink: 654861fb</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="隐藏文章"><a href="#隐藏文章" class="headerlink" title="隐藏文章"></a>隐藏文章</h3><p>可实现在首页和归档隐藏指定文章</p><p>首先在需要隐藏文章的 <code>Front-matter</code> 添加 <code>visible</code> 值，值为 <code>hide</code> 就表示隐藏。</p><h4 id="首页"><a href="#首页" class="headerlink" title="首页"></a>首页</h4><p>修改 <code>next/layout/index.swig</code> 中的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">for</span> post <span class="keyword">in</span> page.post %&#125;</span><br><span class="line">  &#123;% <span class="keyword">if</span> post.visible !== <span class="string">'hide'</span> %&#125;</span><br><span class="line">    &#123;&#123; post_template.render(post, <span class="literal">true</span>) &#125;&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure><p>在第 14 行左右，将 <code>for post in page.post</code> 中的内容修改成以上</p><h4 id="归档"><a href="#归档" class="headerlink" title="归档"></a>归档</h4><p>修改 <code>next/layout/index.swig</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> post.visible !== <span class="string">'hide'</span> %&#125;</span><br><span class="line">    &#123;&#123; post_template.render(post, <span class="literal">true</span>) &#125;&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>在第 42 行左右，将原本的 <code>post_template.render(post)</code> 改成以上。</p><p>不建议在归档中隐藏是因为归档提供的是一个统计的功能，隐藏后统计的文章篇数没变，但却显示不出来，有点别扭，不想要别人看就直接加密就好了。至于 <code>type</code> 和 <code>tags</code>，删除文章的相应字段就行了。</p><h3 id="分享页面"><a href="#分享页面" class="headerlink" title="分享页面"></a>分享页面</h3><p>NexT 主题自带的是 <a href="http://www.jiathis.com/" target="_blank" rel="noopener">JiaThis</a>，可是太丑了，还不支持 <code>https</code>，找了好久终于到了「<a href="http://overtrue.me/share.js/" target="_blank" rel="noopener">Share.js</a>」，简直把 JiaThis 秒成渣：</p><p>新增文件：<code>next/layout/_partials/share/sharejs.swig</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"share-component"</span> data-mobile-sites=<span class="string">"weibo,qq,qzone,tencent"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;!-- share.css --&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- share.js --&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>随后修改 <code>next\layout\post.swig</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"post-spread"</span>&gt;<span class="comment">//在这一行后面添加：</span></span><br><span class="line">  &#123;% include <span class="string">'_partials/share/sharejs.swig'</span> %&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>效果见下方</p>]]></content>
      
      <categories>
          
          <category> 博客栈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NexT </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Markdown 入门参考</title>
      <link href="/posts/3e793072/"/>
      <url>/posts/3e793072/</url>
      <content type="html"><![CDATA[<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><p>以下分别代表一至五级标题：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">#h1</span></span><br><span class="line"><span class="section">##h2</span></span><br><span class="line"><span class="section">###h3</span></span><br><span class="line"><span class="section">####h4</span></span><br><span class="line"><span class="section">#####h5</span></span><br></pre></td></tr></table></figure><h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>在段落等内容前使用 <code>&gt;</code> 符号，可以将这段内容标记为<strong>引用</strong>的内容：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;引用内容</span><br><span class="line">&gt;&gt;二级引用</span><br></pre></td></tr></table></figure><a id="more"></a><blockquote><p>引用内容</p><blockquote><p>二级引用</p></blockquote></blockquote><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><h4 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>可以作为标记</span><br><span class="line"><span class="bullet">+ </span>也可以</span><br><span class="line"><span class="bullet">- </span>同样可以</span><br></pre></td></tr></table></figure><ul><li>可以作为标记</li></ul><ul><li>也可以</li></ul><ul><li>同样可以</li></ul><h4 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1. </span>以数字和<span class="code">`. `</span>开始；</span><br><span class="line"><span class="bullet">3. </span>数字的顺序并不会影响生成的列表序列；</span><br></pre></td></tr></table></figure><ol><li>以数字和 <code>.</code> 开始；</li><li>数字的顺序并不会影响生成的列表序列；</li></ol><h4 id="嵌套的列表"><a href="#嵌套的列表" class="headerlink" title="嵌套的列表"></a>嵌套的列表</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1. </span>第一层</span><br><span class="line"><span class="code">+ 1-1</span></span><br><span class="line"><span class="code">+ 1-2</span></span><br><span class="line"><span class="bullet">2. </span>无序列表和有序列表可以随意嵌套</span><br><span class="line"><span class="code">1. 2-1</span></span><br><span class="line"><span class="code">    2. 2-2</span></span><br></pre></td></tr></table></figure><ol><li>第一层<ul><li>1-1</li><li>1-2</li></ul></li><li>无序列表和有序列表可以随意嵌套<ol><li>2-1</li><li>2-2</li></ol></li></ol><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h4><p>在代码的头部和尾部用 ``` 包围起来，需要高亮的话，在 ``` 包围的代码块头部标注语法的名字：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'Python syntax highlighting'</span></span><br><span class="line"><span class="keyword">for</span> chr <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">print</span> (s)</span><br></pre></td></tr></table></figure><h4 id="行内代码"><a href="#行内代码" class="headerlink" title="行内代码"></a>行内代码</h4><p>通过 <code></code> 插入行内代码：</p><p><code>print(Hello world)</code></p><h3 id="分隔线"><a href="#分隔线" class="headerlink" title="分隔线"></a>分隔线</h3><p>一行中使用三个即以上的 <code>*</code>、<code>-</code>、<code>_</code>来添加分隔线：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">***</span>*</span><br></pre></td></tr></table></figure><hr><h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><p>需要显示的文本为 [] 的内容，小括号中的链接可以是本地也可以是网络</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">Google</span>](<span class="link">https://google.com</span>)</span><br></pre></td></tr></table></figure><p><a href="https://google.com" target="_blank" rel="noopener">Google</a></p><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p>语法与超链接基本一致，只是需要在前面加一个 !：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">title</span>](<span class="link">https://cdn.pixabay.com/photo/2012/10/26/00/45/senegal-pechlibelle-62964_960_720.jpg</span>)</span><br></pre></td></tr></table></figure><h3 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h3><h4 id="粗体"><a href="#粗体" class="headerlink" title="粗体"></a>粗体</h4><p>使用 <code>** **</code> 或 <code>__ __</code> 包括的文本会转化成<strong>粗体</strong></p><h4 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h4><p>使用 <code>* *</code> 或 <code>_ _</code> 包括的文本会转化为_斜体_</p><h3 id="字符的转义"><a href="#字符的转义" class="headerlink" title="字符的转义"></a>字符的转义</h3><p>当需要显示一些特殊的字符的时候，需要使用反斜线 <code>\</code> 来进行转义：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">这是一个<span class="emphasis">*转义*</span>的<span class="emphasis">_例子_</span></span><br><span class="line">这是一个\<span class="emphasis">*转义\*</span>的\<span class="emphasis">_例子\_</span></span><br></pre></td></tr></table></figure><p>这是一个<em>转义</em>的_例子_</p><p>这是一个*转义*的_例子_</p><h2 id="进阶语法"><a href="#进阶语法" class="headerlink" title="进阶语法"></a>进阶语法</h2><h3 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是~~删除线~~</span><br></pre></td></tr></table></figure><p>这是<del>删除线</del></p><h3 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h3><p>Markdown 原生并无下划线语法，可以通过 HTML 来实现：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>这是下划线<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br></pre></td></tr></table></figure><p><u>这是下划线</u></p><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><h4 id="单元格和表头"><a href="#单元格和表头" class="headerlink" title="单元格和表头"></a>单元格和表头</h4><p>使用 <code>|</code> 来分隔不同单元格，使用 <code>-</code>  来分隔表头和其他行：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| name  | age  |</span><br><span class="line">| ----- | ---- |</span><br><span class="line">| Leo   | 16   |</span><br><span class="line">| Virgo | 18   |</span><br></pre></td></tr></table></figure><table><thead><tr><th>name</th><th>age</th></tr></thead><tbody><tr><td>Leo</td><td>16</td></tr><tr><td>Virgo</td><td>18</td></tr></tbody></table><h4 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h4><p>在表头下方的分隔线标记加入 <code>:</code>，可更换下方单元格的对齐方式：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">| left | center | right |</span><br><span class="line">| ---- | :----: | ----: |</span><br><span class="line">| left | center | right |</span><br></pre></td></tr></table></figure><table><thead><tr><th>left</th><th style="text-align:center">center</th><th style="text-align:right">right</th></tr></thead><tbody><tr><td>left</td><td style="text-align:center">center</td><td style="text-align:right">right</td></tr></tbody></table><h3 id="待办事宜（hexo-不支持以下语法）"><a href="#待办事宜（hexo-不支持以下语法）" class="headerlink" title="待办事宜（hexo 不支持以下语法）"></a>待办事宜（hexo 不支持以下语法）</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>[ ] 吃饭</span><br><span class="line"><span class="bullet">- </span>[x] 唱歌</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/ba22af52gy1ffy07lxnyhj20fn02ct8i.jpg" alt=""></p><h3 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h3><p>以 flow 为关键字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: Start</span><br><span class="line">e=&gt;end: End</span><br><span class="line">op=&gt;operation: My Operation</span><br><span class="line">cond=&gt;condition: Yes or No?</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/ba22af52gy1ffy055sa4mj20710bgt8p.jpg" alt=""></p><h3 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h3><p>以 sequence 为关键字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alice-&gt;Bob: Hello Bob, how are you?</span><br><span class="line">Note right of Bob: Bob thinks</span><br><span class="line">Bob--&gt;Alice: I am good thanks!</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/ba22af52gy1ffy05m64ttj20e607i3yk.jpg" alt=""></p><h3 id="Latex-公式"><a href="#Latex-公式" class="headerlink" title="Latex 公式"></a>Latex 公式</h3><h4 id="行内公式"><a href="#行内公式" class="headerlink" title="行内公式"></a>行内公式</h4><p>用 <code>$ $</code> 包括起来的表示行内公式：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">质能守恒方程：$E=mc^2$</span><br></pre></td></tr></table></figure><p>质能守恒方程：$E=mc^2$</p><h4 id="整行公式"><a href="#整行公式" class="headerlink" title="整行公式"></a>整行公式</h4><p>用 <code>$$ $$</code> 包括起来的表示整行公式：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$$\sum<span class="emphasis">_&#123;i=1&#125;^n a_</span>i=0$$</span><br><span class="line">$$f(x<span class="emphasis">_1,x_</span>x,\ldots,x<span class="emphasis">_n)=x_</span>1^2+x<span class="emphasis">_2^2+\cdots+x_</span>n^2$$</span><br></pre></td></tr></table></figure><p>$$\sum_{i=1}^n a_i=0$$</p><p>$$f(x_1,x_x,\ldots,x_n)=x_1^2+x_2^2+\cdots+x_n^2$$</p><h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><p>使用 <code>[^keyword]</code> 表示脚注：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是一个脚注[^1]的例子</span><br><span class="line"></span><br><span class="line">[<span class="symbol">^1</span>]: <span class="link">这是一个脚注</span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> 分享境 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
